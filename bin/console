#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler'
require 'simplecov'
require 'combustion'
require 'gemika'

Combustion.initialize! :active_record, :action_controller, :action_view do
  Rails.env = if Gemika::Env.gem?('pg')
                'postgresql'
              elsif Gemika::Env.gem?('mysql2')
                'mysql'
              else
                'sqlite'
              end
  ENV['RAILS_ENV'] ||= Rails.env
end

Bundler.require :default, :development

require 'bundler/setup'
require 'active_set'
require 'ostruct'

begin
  FactoryBot.find_definitions
rescue FactoryBot::DuplicateDefinitionError
  nil
end

# (If you use this, don't forget to add pry to your Gemfile!)
# require 'pry'
# Pry.start

require 'irb'
IRB.start(__FILE__)
